var Zepto=function(){function t(t){return null==t?String(t):Z[V.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function i(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function r(e){return"object"==t(e)}function o(t){return r(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function s(t){return"number"==typeof t.length}function a(t){return j.call(t,function(t){return null!=t})}function u(t){return t.length>0?b.fn.concat.apply([],t):t}function c(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(t){return t in _?_[t]:_[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function h(t,e){return"number"!=typeof e||F[c(t)]?e:e+"px"}function f(t){var e,n;return I[t]||(e=O.createElement(t),O.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),I[t]=n),I[t]}function p(t){return"children"in t?P.call(t.children):b.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function d(t,e,n){for(x in e)n&&(o(e[x])||J(e[x]))?(o(e[x])&&!o(t[x])&&(t[x]={}),J(e[x])&&!J(t[x])&&(t[x]=[]),d(t[x],e[x],n)):e[x]!==E&&(t[x]=e[x])}function m(t,e){return null==e?b(t):b(t).filter(e)}function v(t,n,i,r){return e(n)?n.call(t,i,r):n}function g(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function y(t,e){var n=t.className||"",i=n&&n.baseVal!==E;return e===E?i?n.baseVal:n:void(i?n.baseVal=e:t.className=e)}function w(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?b.parseJSON(t):t):t}catch(e){return t}}function T(t,e){e(t);for(var n=0,i=t.childNodes.length;i>n;n++)T(t.childNodes[n],e)}var E,x,b,C,A,N,S=[],P=S.slice,j=S.filter,O=window.document,I={},_={},F={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},D=/^\s*<(\w+|!)[^>]*>/,L=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,M=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,R=/^(?:body|html)$/i,$=/([A-Z])/g,q=["val","css","html","text","data","width","height","offset"],z=["after","prepend","before","append"],k=O.createElement("table"),X=O.createElement("tr"),H={tr:O.createElement("tbody"),tbody:k,thead:k,tfoot:k,td:X,th:X,"*":O.createElement("div")},W=/complete|loaded|interactive/,Y=/^[\w-]*$/,Z={},V=Z.toString,B={},U=O.createElement("div"),G={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},J=Array.isArray||function(t){return t instanceof Array};return B.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,o=!r;return o&&(r=U).appendChild(t),i=~B.qsa(r,e).indexOf(t),o&&U.removeChild(t),i},A=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},N=function(t){return j.call(t,function(e,n){return t.indexOf(e)==n})},B.fragment=function(t,e,n){var i,r,s;return L.test(t)&&(i=b(O.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(M,"<$1></$2>")),e===E&&(e=D.test(t)&&RegExp.$1),e in H||(e="*"),s=H[e],s.innerHTML=""+t,i=b.each(P.call(s.childNodes),function(){s.removeChild(this)})),o(n)&&(r=b(i),b.each(n,function(t,e){q.indexOf(t)>-1?r[t](e):r.attr(t,e)})),i},B.Z=function(t,e){return t=t||[],t.__proto__=b.fn,t.selector=e||"",t},B.isZ=function(t){return t instanceof B.Z},B.init=function(t,n){var i;if(!t)return B.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&D.test(t))i=B.fragment(t,RegExp.$1,n),t=null;else{if(n!==E)return b(n).find(t);i=B.qsa(O,t)}else{if(e(t))return b(O).ready(t);if(B.isZ(t))return t;if(J(t))i=a(t);else if(r(t))i=[t],t=null;else if(D.test(t))i=B.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==E)return b(n).find(t);i=B.qsa(O,t)}}return B.Z(i,t)},b=function(t,e){return B.init(t,e)},b.extend=function(t){var e,n=P.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){d(t,n,e)}),t},B.qsa=function(t,e){var n,r="#"==e[0],o=!r&&"."==e[0],s=r||o?e.slice(1):e,a=Y.test(s);return i(t)&&a&&r?(n=t.getElementById(s))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:P.call(a&&!r?o?t.getElementsByClassName(s):t.getElementsByTagName(e):t.querySelectorAll(e))},b.contains=O.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},b.type=t,b.isFunction=e,b.isWindow=n,b.isArray=J,b.isPlainObject=o,b.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},b.inArray=function(t,e,n){return S.indexOf.call(e,t,n)},b.camelCase=A,b.trim=function(t){return null==t?"":String.prototype.trim.call(t)},b.uuid=0,b.support={},b.expr={},b.map=function(t,e){var n,i,r,o=[];if(s(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&o.push(n);else for(r in t)n=e(t[r],r),null!=n&&o.push(n);return u(o)},b.each=function(t,e){var n,i;if(s(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},b.grep=function(t,e){return j.call(t,e)},window.JSON&&(b.parseJSON=JSON.parse),b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()}),b.fn={forEach:S.forEach,reduce:S.reduce,push:S.push,sort:S.sort,indexOf:S.indexOf,concat:S.concat,map:function(t){return b(b.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return b(P.apply(this,arguments))},ready:function(t){return W.test(O.readyState)&&O.body?t(b):O.addEventListener("DOMContentLoaded",function(){t(b)},!1),this},get:function(t){return t===E?P.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return S.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):b(j.call(this,function(e){return B.matches(e,t)}))},add:function(t,e){return b(N(this.concat(b(t,e))))},is:function(t){return this.length>0&&B.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==E)this.each(function(e){t.call(this,e)||n.push(this)});else{var i="string"==typeof t?this.filter(t):s(t)&&e(t.item)?P.call(t):b(t);this.forEach(function(t){i.indexOf(t)<0&&n.push(t)})}return b(n)},has:function(t){return this.filter(function(){return r(t)?b.contains(this,t):b(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!r(t)?t:b(t)},last:function(){var t=this[this.length-1];return t&&!r(t)?t:b(t)},find:function(t){var e,n=this;return e=t?"object"==typeof t?b(t).filter(function(){var t=this;return S.some.call(n,function(e){return b.contains(e,t)})}):1==this.length?b(B.qsa(this[0],t)):this.map(function(){return B.qsa(this,t)}):b()},closest:function(t,e){var n=this[0],r=!1;for("object"==typeof t&&(r=b(t));n&&!(r?r.indexOf(n)>=0:B.matches(n,t));)n=n!==e&&!i(n)&&n.parentNode;return b(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=b.map(n,function(t){return(t=t.parentNode)&&!i(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return m(e,t)},parent:function(t){return m(N(this.pluck("parentNode")),t)},children:function(t){return m(this.map(function(){return p(this)}),t)},contents:function(){return this.map(function(){return P.call(this.childNodes)})},siblings:function(t){return m(this.map(function(t,e){return j.call(p(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return b.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=f(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var i=b(t).get(0),r=i.parentNode||this.length>1;return this.each(function(e){b(this).wrapAll(n?t.call(this,e):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){b(this[0]).before(t=b(t));for(var e;(e=t.children()).length;)t=e.first();b(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var i=b(this),r=i.contents(),o=n?t.call(this,e):t;r.length?r.wrapAll(o):i.append(o)})},unwrap:function(){return this.parent().each(function(){b(this).replaceWith(b(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=b(this);(t===E?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return b(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return b(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;b(this).empty().append(v(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=v(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(r(t))for(x in t)g(this,x,t[x]);else g(this,t,v(this,e,n,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:E},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){g(this,t)},this)})},prop:function(t,e){return t=G[t]||t,1 in arguments?this.each(function(n){this[t]=v(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(t,e){var n="data-"+t.replace($,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,e):this.attr(n);return null!==i?w(i):E},val:function(t){return 0 in arguments?this.each(function(e){this.value=v(this,t,e,this.value)}):this[0]&&(this[0].multiple?b(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var n=b(this),i=v(this,t,e,n.offset()),r=n.offsetParent().offset(),o={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2){var i,r=this[0];if(!r)return;if(i=getComputedStyle(r,""),"string"==typeof e)return r.style[A(e)]||i.getPropertyValue(e);if(J(e)){var o={};return b.each(e,function(t,e){o[e]=r.style[A(e)]||i.getPropertyValue(e)}),o}}var s="";if("string"==t(e))n||0===n?s=c(e)+":"+h(e,n):this.each(function(){this.style.removeProperty(c(e))});else for(x in e)e[x]||0===e[x]?s+=c(x)+":"+h(x,e[x])+";":this.each(function(){this.style.removeProperty(c(x))});return this.each(function(){this.style.cssText+=";"+s})},index:function(t){return t?this.indexOf(b(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&S.some.call(this,function(t){return this.test(y(t))},l(t))},addClass:function(t){return t?this.each(function(e){if("className"in this){C=[];var n=y(this),i=v(this,t,e,n);i.split(/\s+/g).forEach(function(t){b(this).hasClass(t)||C.push(t)},this),C.length&&y(this,n+(n?" ":"")+C.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===E)return y(this,"");C=y(this),v(this,t,e,C).split(/\s+/g).forEach(function(t){C=C.replace(l(t)," ")}),y(this,C.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var i=b(this),r=v(this,t,n,y(this));r.split(/\s+/g).forEach(function(t){(e===E?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===E?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===E?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=R.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(b(t).css("margin-top"))||0,n.left-=parseFloat(b(t).css("margin-left"))||0,i.top+=parseFloat(b(e[0]).css("border-top-width"))||0,i.left+=parseFloat(b(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||O.body;t&&!R.test(t.nodeName)&&"static"==b(t).css("position");)t=t.offsetParent;return t})}},b.fn.detach=b.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});b.fn[t]=function(r){var o,s=this[0];return r===E?n(s)?s["inner"+e]:i(s)?s.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){s=b(this),s.css(t,v(this,r,e,s[t]()))})}}),z.forEach(function(e,n){var i=n%2;b.fn[e]=function(){var e,r,o=b.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:B.fragment(n)}),s=this.length>1;return o.length<1?this:this.each(function(t,e){r=i?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null;var a=b.contains(O.documentElement,r);o.forEach(function(t){if(s)t=t.cloneNode(!0);else if(!r)return b(t).remove();r.insertBefore(t,e),a&&T(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},b.fn[i?e+"To":"insert"+(n?"Before":"After")]=function(t){return b(t)[e](this),this}}),B.Z.prototype=b.fn,B.uniq=N,B.deserializeValue=w,b.zepto=B,b}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function e(t){return t._zid||(t._zid=f++)}function n(t,n,o,s){if(n=i(n),n.ns)var a=r(n.ns);return(v[e(t)]||[]).filter(function(t){return!(!t||n.e&&t.e!=n.e||n.ns&&!a.test(t.ns)||o&&e(t.fn)!==e(o)||s&&t.sel!=s)})}function i(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function r(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t,e){return t.del&&!y&&t.e in w||!!e}function s(t){return T[t]||y&&w[t]||t}function a(n,r,a,u,l,f,p){var d=e(n),m=v[d]||(v[d]=[]);r.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(a);var r=i(e);r.fn=a,r.sel=l,r.e in T&&(a=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?r.fn.apply(this,arguments):void 0}),r.del=f;var d=f||a;r.proxy=function(t){if(t=c(t),!t.isImmediatePropagationStopped()){t.data=u;var e=d.apply(n,t._args==h?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},r.i=m.length,m.push(r),"addEventListener"in n&&n.addEventListener(s(r.e),r.proxy,o(r,p))})}function u(t,i,r,a,u){var c=e(t);(i||"").split(/\s/).forEach(function(e){n(t,e,r,a).forEach(function(e){delete v[c][e.i],"removeEventListener"in t&&t.removeEventListener(s(e.e),e.proxy,o(e,u))})})}function c(e,n){return(n||!e.isDefaultPrevented)&&(n||(n=e),t.each(C,function(t,i){var r=n[t];e[t]=function(){return this[i]=E,r&&r.apply(n,arguments)},e[i]=x}),(n.defaultPrevented!==h?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=E)),e}function l(t){var e,n={originalEvent:t};for(e in t)b.test(e)||t[e]===h||(n[e]=t[e]);return c(n,t)}var h,f=1,p=Array.prototype.slice,d=t.isFunction,m=function(t){return"string"==typeof t},v={},g={},y="onfocusin"in window,w={focus:"focusin",blur:"focusout"},T={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",t.event={add:a,remove:u},t.proxy=function(n,i){var r=2 in arguments&&p.call(arguments,2);if(d(n)){var o=function(){return n.apply(i,r?r.concat(p.call(arguments)):arguments)};return o._zid=e(n),o}if(m(i))return r?(r.unshift(n[i],n),t.proxy.apply(null,r)):t.proxy(n[i],n);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var E=function(){return!0},x=function(){return!1},b=/^([A-Z]|returnValue$|layer[XY]$)/,C={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,i,r,o){var s,c,f=this;return e&&!m(e)?(t.each(e,function(t,e){f.on(t,n,i,e,o)}),f):(m(n)||d(r)||r===!1||(r=i,i=n,n=h),(d(i)||i===!1)&&(r=i,i=h),r===!1&&(r=x),f.each(function(h,f){o&&(s=function(t){return u(f,t.type,r),r.apply(this,arguments)}),n&&(c=function(e){var i,o=t(e.target).closest(n,f).get(0);return o&&o!==f?(i=t.extend(l(e),{currentTarget:o,liveFired:f}),(s||r).apply(o,[i].concat(p.call(arguments,1)))):void 0}),a(f,e,r,i,n,c||s)}))},t.fn.off=function(e,n,i){var r=this;return e&&!m(e)?(t.each(e,function(t,e){r.off(t,n,e)}),r):(m(n)||d(i)||i===!1||(i=n,n=h),i===!1&&(i=x),r.each(function(){u(this,e,i,n)}))},t.fn.trigger=function(e,n){return e=m(e)||t.isPlainObject(e)?t.Event(e):c(e),e._args=n,this.each(function(){e.type in w&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,i){var r,o;return this.each(function(s,a){r=l(m(e)?t.Event(e):e),r._args=i,r.target=a,t.each(n(a,e.type||e),function(t,e){return o=e.proxy(r),!r.isImmediatePropagationStopped()&&void 0})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){m(t)||(e=t,t=e.type);var n=document.createEvent(g[t]||"Events"),i=!0;if(e)for(var r in e)"bubbles"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),c(n)}}(Zepto),function(t){function e(e,n,i){var r=t.Event(n);return t(e).trigger(r,i),!r.isDefaultPrevented()}function n(t,n,i,r){return t.global?e(n||y,i,r):void 0}function i(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function r(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function o(t,e){var i=e.context;return e.beforeSend.call(i,t,e)!==!1&&n(e,i,"ajaxBeforeSend",[t,e])!==!1&&void n(e,i,"ajaxSend",[t,e])}function s(t,e,i,r){var o=i.context,s="success";i.success.call(o,t,s,e),r&&r.resolveWith(o,[t,s,e]),n(i,o,"ajaxSuccess",[e,i,t]),u(s,e,i)}function a(t,e,i,r,o){var s=r.context;r.error.call(s,i,e,t),o&&o.rejectWith(s,[i,e,t]),n(r,s,"ajaxError",[i,r,t||e]),u(e,i,r)}function u(t,e,i){var o=i.context;i.complete.call(o,e,t),n(i,o,"ajaxComplete",[e,i]),r(i)}function c(){}function l(t){return t&&(t=t.split(";",2)[0]),t&&(t==b?"html":t==x?"json":T.test(t)?"script":E.test(t)&&"xml")||"text"}function h(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function f(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=h(e.url,e.data),e.data=void 0)}function p(e,n,i,r){return t.isFunction(n)&&(r=i,i=n,n=void 0),t.isFunction(i)||(r=i,i=void 0),{url:e,data:n,success:i,dataType:r}}function d(e,n,i,r){var o,s=t.isArray(n),a=t.isPlainObject(n);t.each(n,function(n,u){o=t.type(u),r&&(n=i?r:r+"["+(a||"object"==o||"array"==o?n:"")+"]"),!r&&s?e.add(u.name,u.value):"array"==o||!i&&"object"==o?d(e,u,i,n):e.add(n,u)})}var m,v,g=0,y=window.document,w=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,T=/^(?:text|application)\/javascript/i,E=/^(?:text|application)\/xml/i,x="application/json",b="text/html",C=/^\s*$/,A=y.createElement("a");A.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var i,r,u=e.jsonpCallback,c=(t.isFunction(u)?u():u)||"jsonp"+ ++g,l=y.createElement("script"),h=window[c],f=function(e){t(l).triggerHandler("error",e||"abort")},p={abort:f};return n&&n.promise(p),t(l).on("load error",function(o,u){clearTimeout(r),t(l).off().remove(),"error"!=o.type&&i?s(i[0],p,e,n):a(null,u||"error",p,e,n),window[c]=h,i&&t.isFunction(h)&&h(i[0]),h=i=void 0}),o(p,e)===!1?(f("abort"),p):(window[c]=function(){i=arguments},l.src=e.url.replace(/\?(.+)=\?/,"?$1="+c),y.head.appendChild(l),e.timeout>0&&(r=setTimeout(function(){f("timeout")},e.timeout)),p)},t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:x,xml:"application/xml, text/xml",html:b,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n,r=t.extend({},e||{}),u=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===r[m]&&(r[m]=t.ajaxSettings[m]);i(r),r.crossDomain||(n=y.createElement("a"),n.href=r.url,n.href=n.href,r.crossDomain=A.protocol+"//"+A.host!=n.protocol+"//"+n.host),r.url||(r.url=window.location.toString()),f(r);var p=r.dataType,d=/\?.+=\?/.test(r.url);if(d&&(p="jsonp"),r.cache!==!1&&(e&&e.cache===!0||"script"!=p&&"jsonp"!=p)||(r.url=h(r.url,"_="+Date.now())),"jsonp"==p)return d||(r.url=h(r.url,r.jsonp?r.jsonp+"=?":r.jsonp===!1?"":"callback=?")),t.ajaxJSONP(r,u);var g,w=r.accepts[p],T={},E=function(t,e){T[t.toLowerCase()]=[t,e]},x=/^([\w-]+:)\/\//.test(r.url)?RegExp.$1:window.location.protocol,b=r.xhr(),N=b.setRequestHeader;if(u&&u.promise(b),r.crossDomain||E("X-Requested-With","XMLHttpRequest"),E("Accept",w||"*/*"),(w=r.mimeType||w)&&(w.indexOf(",")>-1&&(w=w.split(",",2)[0]),b.overrideMimeType&&b.overrideMimeType(w)),(r.contentType||r.contentType!==!1&&r.data&&"GET"!=r.type.toUpperCase())&&E("Content-Type",r.contentType||"application/x-www-form-urlencoded"),r.headers)for(v in r.headers)E(v,r.headers[v]);if(b.setRequestHeader=E,b.onreadystatechange=function(){if(4==b.readyState){b.onreadystatechange=c,clearTimeout(g);var e,n=!1;if(b.status>=200&&b.status<300||304==b.status||0==b.status&&"file:"==x){p=p||l(r.mimeType||b.getResponseHeader("content-type")),e=b.responseText;try{"script"==p?(0,eval)(e):"xml"==p?e=b.responseXML:"json"==p&&(e=C.test(e)?null:t.parseJSON(e))}catch(i){n=i}n?a(n,"parsererror",b,r,u):s(e,b,r,u)}else a(b.statusText||null,b.status?"error":"abort",b,r,u)}},o(b,r)===!1)return b.abort(),a(null,"abort",b,r,u),b;if(r.xhrFields)for(v in r.xhrFields)b[v]=r.xhrFields[v];var S=!("async"in r)||r.async;b.open(r.type,r.url,S,r.username,r.password);for(v in T)N.apply(b,T[v]);return r.timeout>0&&(g=setTimeout(function(){b.onreadystatechange=c,b.abort(),a(null,"timeout",b,r,u)},r.timeout)),b.send(r.data?r.data:null),b},t.get=function(){return t.ajax(p.apply(null,arguments))},t.post=function(){var e=p.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=p.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var r,o=this,s=e.split(/\s/),a=p(e,n,i),u=a.success;return s.length>1&&(a.url=s[0],r=s[1]),a.success=function(e){o.html(r?t("<div>").html(e.replace(w,"")).find(r):e),u&&u.apply(o,arguments)},t.ajax(a),this};var N=encodeURIComponent;t.param=function(e,n){var i=[];return i.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(N(e)+"="+N(n))},d(i,e,n),i.join("&").replace(/%20/g,"+")}}(Zepto),function(t){t.fn.serializeArray=function(){var e,n,i=[],r=function(t){return t.forEach?t.forEach(r):void i.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(i,o){n=o.type,e=o.name,e&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&r(t(o).val())}),i},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,n){return e=e||[],t.extend(e,t.fn),e.selector=n||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;window.getComputedStyle=function(t){try{return n(t)}catch(e){return null}}}}(Zepto),!function(t,e,n,i){"use strict";function r(t,e,n){return setTimeout(c(t,n),e)}function o(t,e,n){return!!Array.isArray(t)&&(s(t,n[e],n),!0)}function s(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function a(e,n,i){var r="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=t.console&&(t.console.warn||t.console.log);return o&&o.call(t.console,r,i),e.apply(this,arguments)}}function u(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&ht(i,n)}function c(t,e){return function(){return t.apply(e,arguments)}}function l(t,e){return typeof t==dt?t.apply(e?e[0]||i:i,e):t}function h(t,e){return t===i?e:t}function f(t,e,n){s(v(e),function(e){t.addEventListener(e,n,!1)})}function p(t,e,n){s(v(e),function(e){t.removeEventListener(e,n,!1)})}function d(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function v(t){return t.trim().split(/\s+/g)}function g(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function y(t){return Array.prototype.slice.call(t,0)}function w(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];g(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function T(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),s=0;s<ft.length;){if(n=ft[s],r=n?n+o:e,r in t)return r;s++}return i}function E(){return Tt++}function x(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}function b(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){l(t.options.enable,[t])&&n.handler(e)},this.init()}function C(t){var e,n=t.options.inputClass;return new(e=n?n:bt?$:Ct?k:xt?H:R)(t,A)}function A(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&Ot&&i-r===0,s=e&(_t|Ft)&&i-r===0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,N(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function N(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=j(e)),r>1&&!n.firstMultiple?n.firstMultiple=j(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,u=e.center=O(i);e.timeStamp=gt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=D(a,u),e.distance=F(a,u),S(n,e),e.offsetDirection=_(e.deltaX,e.deltaY);var c=I(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=vt(c.x)>vt(c.y)?c.x:c.y,e.scale=s?M(s.pointers,i):1,e.rotation=s?L(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,P(n,e);var l=t.element;d(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function S(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Ot&&o.eventType!==_t||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function P(t,e){var n,r,o,s,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=Ft&&(u>jt||a.velocity===i)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,h=I(u,c,l);r=h.x,o=h.y,n=vt(h.x)>vt(h.y)?h.x:h.y,s=_(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,s=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=s}function j(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:mt(t.pointers[n].clientX),clientY:mt(t.pointers[n].clientY)},n++;return{timeStamp:gt(),pointers:e,center:O(e),deltaX:t.deltaX,deltaY:t.deltaY}}function O(t){var e=t.length;if(1===e)return{x:mt(t[0].clientX),y:mt(t[0].clientY)};for(var n=0,i=0,r=0;e>r;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:mt(n/e),y:mt(i/e)}}function I(t,e,n){return{x:e/t||0,y:n/t||0}}function _(t,e){return t===e?Dt:vt(t)>=vt(e)?0>t?Lt:Mt:0>e?Rt:$t}function F(t,e,n){n||(n=Xt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function D(t,e,n){n||(n=Xt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function L(t,e){return D(e[1],e[0],Ht)+D(t[1],t[0],Ht)}function M(t,e){return F(e[0],e[1],Ht)/F(t[0],t[1],Ht)}function R(){this.evEl=Yt,this.evWin=Zt,this.pressed=!1,b.apply(this,arguments)}function $(){this.evEl=Ut,this.evWin=Gt,b.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function q(){this.evTarget=Qt,this.evWin=Kt,this.started=!1,b.apply(this,arguments)}function z(t,e){var n=y(t.touches),i=y(t.changedTouches);return e&(_t|Ft)&&(n=w(n.concat(i),"identifier",!0)),[n,i]}function k(){this.evTarget=ee,this.targetIds={},b.apply(this,arguments)}function X(t,e){var n=y(t.touches),i=this.targetIds;if(e&(Ot|It)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=y(t.changedTouches),a=[],u=this.target;if(o=n.filter(function(t){return d(t.target,u)}),e===Ot)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),e&(_t|Ft)&&delete i[s[r].identifier],r++;return a.length?[w(o.concat(a),"identifier",!0),a]:void 0}function H(){b.apply(this,arguments);var t=c(this.handler,this);this.touch=new k(this.manager,t),this.mouse=new R(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function W(t,e){t&Ot?(this.primaryTouch=e.changedPointers[0].identifier,Y.call(this,e)):t&(_t|Ft)&&Y.call(this,e)}function Y(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches,r=function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)};setTimeout(r,ne)}}function Z(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(ie>=o&&ie>=s)return!0}return!1}function V(t,e){this.manager=t,this.set(e)}function B(t){if(m(t,ce))return ce;var e=m(t,le),n=m(t,he);return e&&n?ce:e||n?e?le:he:m(t,ue)?ue:ae}function U(){if(!oe)return!1;var e={},n=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=!n||t.CSS.supports("touch-action",i)}),e}function G(t){this.options=ht({},this.defaults,t||{}),this.id=E(),this.manager=null,this.options.enable=h(this.options.enable,!0),this.state=pe,this.simultaneous={},this.requireFail=[]}function J(t){return t&ye?"cancel":t&ve?"end":t&me?"move":t&de?"start":""}function Q(t){return t==$t?"down":t==Rt?"up":t==Lt?"left":t==Mt?"right":""}function K(t,e){var n=e.manager;return n?n.get(t):t}function tt(){G.apply(this,arguments)}function et(){tt.apply(this,arguments),this.pX=null,this.pY=null}function nt(){tt.apply(this,arguments);
}function it(){G.apply(this,arguments),this._timer=null,this._input=null}function rt(){tt.apply(this,arguments)}function ot(){tt.apply(this,arguments)}function st(){G.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function at(t,e){return e=e||{},e.recognizers=h(e.recognizers,at.defaults.preset),new ut(t,e)}function ut(t,e){this.options=ht({},at.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=C(this),this.touchAction=new V(this,this.options.touchAction),ct(this,!0),s(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ct(t,e){var n=t.element;if(n.style){var i;s(t.options.cssProps,function(r,o){i=T(n.style,o),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={})}}function lt(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var ht,ft=["","webkit","Moz","MS","ms","o"],pt=e.createElement("div"),dt="function",mt=Math.round,vt=Math.abs,gt=Date.now;ht="function"!=typeof Object.assign?function(t){if(t===i||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==i&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var yt=a(function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===i)&&(t[r[o]]=e[r[o]]),o++;return t},"extend","Use `assign`."),wt=a(function(t,e){return yt(t,e,!0)},"merge","Use `assign`."),Tt=1,Et=/mobile|tablet|ip(ad|hone|od)|android/i,xt="ontouchstart"in t,bt=T(t,"PointerEvent")!==i,Ct=xt&&Et.test(navigator.userAgent),At="touch",Nt="pen",St="mouse",Pt="kinect",jt=25,Ot=1,It=2,_t=4,Ft=8,Dt=1,Lt=2,Mt=4,Rt=8,$t=16,qt=Lt|Mt,zt=Rt|$t,kt=qt|zt,Xt=["x","y"],Ht=["clientX","clientY"];b.prototype={handler:function(){},init:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(x(this.element),this.evWin,this.domHandler)}};var Wt={mousedown:Ot,mousemove:It,mouseup:_t},Yt="mousedown",Zt="mousemove mouseup";u(R,b,{handler:function(t){var e=Wt[t.type];e&Ot&&0===t.button&&(this.pressed=!0),e&It&&1!==t.which&&(e=_t),this.pressed&&(e&_t&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:St,srcEvent:t}))}});var Vt={pointerdown:Ot,pointermove:It,pointerup:_t,pointercancel:Ft,pointerout:Ft},Bt={2:At,3:Nt,4:St,5:Pt},Ut="pointerdown",Gt="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Ut="MSPointerDown",Gt="MSPointerMove MSPointerUp MSPointerCancel"),u($,b,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Vt[i],o=Bt[t.pointerType]||t.pointerType,s=o==At,a=g(e,t.pointerId,"pointerId");r&Ot&&(0===t.button||s)?0>a&&(e.push(t),a=e.length-1):r&(_t|Ft)&&(n=!0),0>a||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var Jt={touchstart:Ot,touchmove:It,touchend:_t,touchcancel:Ft},Qt="touchstart",Kt="touchstart touchmove touchend touchcancel";u(q,b,{handler:function(t){var e=Jt[t.type];if(e===Ot&&(this.started=!0),this.started){var n=z.call(this,t,e);e&(_t|Ft)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:At,srcEvent:t})}}});var te={touchstart:Ot,touchmove:It,touchend:_t,touchcancel:Ft},ee="touchstart touchmove touchend touchcancel";u(k,b,{handler:function(t){var e=te[t.type],n=X.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:At,srcEvent:t})}});var ne=2500,ie=25;u(H,b,{handler:function(t,e,n){var i=n.pointerType==At,r=n.pointerType==St;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)W.call(this,e,n);else if(r&&Z.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var re=T(pt.style,"touchAction"),oe=re!==i,se="compute",ae="auto",ue="manipulation",ce="none",le="pan-x",he="pan-y",fe=U();V.prototype={set:function(t){t==se&&(t=this.compute()),oe&&this.manager.element.style&&fe[t]&&(this.manager.element.style[re]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return s(this.manager.recognizers,function(e){l(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),B(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=m(i,ce)&&!fe[ce],o=m(i,he)&&!fe[he],s=m(i,le)&&!fe[le];if(r){var a=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(a&&u&&c)return}return s&&o?void 0:r||o&&n&qt||s&&n&zt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var pe=1,de=2,me=4,ve=8,ge=ve,ye=16,we=32;G.prototype={defaults:{},set:function(t){return ht(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=K(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=K(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=K(t,this),-1===g(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=K(t,this);var e=g(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;ve>i&&e(n.options.event+J(i)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),i>=ve&&e(n.options.event+J(i))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=we)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(we|pe)))return!1;t++}return!0},recognize:function(t){var e=ht({},t);return l(this.options.enable,[this,e])?(this.state&(ge|ye|we)&&(this.state=pe),this.state=this.process(e),void(this.state&(de|me|ve|ye)&&this.tryEmit(e))):(this.reset(),void(this.state=we))},process:function(t){},getTouchAction:function(){},reset:function(){}},u(tt,G,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(de|me),r=this.attrTest(t);return i&&(n&Ft||!r)?e|ye:i||r?n&_t?e|ve:e&de?e|me:de:we}}),u(et,tt,{defaults:{event:"pan",threshold:10,pointers:1,direction:kt},getTouchAction:function(){var t=this.options.direction,e=[];return t&qt&&e.push(he),t&zt&&e.push(le),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&qt?(r=0===o?Dt:0>o?Lt:Mt,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===s?Dt:0>s?Rt:$t,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return tt.prototype.attrTest.call(this,t)&&(this.state&de||!(this.state&de)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Q(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),u(nt,tt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ce]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&de)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),u(it,G,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ae]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(_t|Ft)&&!o)this.reset();else if(t.eventType&Ot)this.reset(),this._timer=r(function(){this.state=ge,this.tryEmit()},e.time,this);else if(t.eventType&_t)return ge;return we},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ge&&(t&&t.eventType&_t?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=gt(),this.manager.emit(this.options.event,this._input)))}}),u(rt,tt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ce]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&de)}}),u(ot,tt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:qt|zt,pointers:1},getTouchAction:function(){return et.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(qt|zt)?e=t.overallVelocity:n&qt?e=t.overallVelocityX:n&zt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&vt(e)>this.options.velocity&&t.eventType&_t},emit:function(t){var e=Q(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),u(st,G,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ue]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Ot&&0===this.count)return this.failTimeout();if(i&&o&&n){if(t.eventType!=_t)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||F(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;var u=this.count%e.taps;if(0===u)return this.hasRequireFailures()?(this._timer=r(function(){this.state=ge,this.tryEmit()},e.interval,this),de):ge}return we},failTimeout:function(){return this._timer=r(function(){this.state=we},this.options.interval,this),we},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ge&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),at.VERSION="2.0.8",at.defaults={domEvents:!1,touchAction:se,enable:!0,inputTarget:null,inputClass:null,preset:[[rt,{enable:!1}],[nt,{enable:!1},["rotate"]],[ot,{direction:qt}],[et,{direction:qt},["swipe"]],[st],[st,{event:"doubletap",taps:2},["tap"]],[it]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Te=1,Ee=2;ut.prototype={set:function(t){return ht(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Ee:Te},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&ge)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],e.stopped===Ee||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(de|me|ve)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof G)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=g(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==i&&e!==i){var n=this.handlers;return s(v(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==i){var n=this.handlers;return s(v(t),function(t){e?n[t]&&n[t].splice(g(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&lt(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&ct(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ht(at,{INPUT_START:Ot,INPUT_MOVE:It,INPUT_END:_t,INPUT_CANCEL:Ft,STATE_POSSIBLE:pe,STATE_BEGAN:de,STATE_CHANGED:me,STATE_ENDED:ve,STATE_RECOGNIZED:ge,STATE_CANCELLED:ye,STATE_FAILED:we,DIRECTION_NONE:Dt,DIRECTION_LEFT:Lt,DIRECTION_RIGHT:Mt,DIRECTION_UP:Rt,DIRECTION_DOWN:$t,DIRECTION_HORIZONTAL:qt,DIRECTION_VERTICAL:zt,DIRECTION_ALL:kt,Manager:ut,Input:b,TouchAction:V,TouchInput:k,MouseInput:R,PointerEventInput:$,TouchMouseInput:H,SingleTouchInput:q,Recognizer:G,AttrRecognizer:tt,Tap:st,Pan:et,Swipe:ot,Pinch:nt,Rotate:rt,Press:it,on:f,off:p,each:s,merge:wt,extend:yt,assign:ht,inherit:u,bindFn:c,prefixed:T});var xe="undefined"!=typeof t?t:"undefined"!=typeof self?self:{};xe.Hammer=at,"function"==typeof define&&define.amd?define(function(){return at}):"undefined"!=typeof module&&module.exports?module.exports=at:t[n]=at}(window,document,"Hammer"),function(){"use strict";function t(t,e){var n=[],i=this.options;return i.onProgress&&t&&i.onProgress.call(this,t,e,this.completed.length),this.completed.length+this.errors.length===this.queue.length&&(n.push(this.completed),this.errors.length&&n.push(this.errors),i.onComplete.apply(this,n)),this}var e="addEventListener"in new Image,n=function(t,e){this.options={pipeline:!1,auto:!0,prefetch:!1,onComplete:function(){}},e&&"object"==typeof e&&this.setOptions(e),this.addQueue(t),this.queue.length&&this.options.auto&&this.processQueue()};n.prototype.setOptions=function(t){var e,n=this.options;for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return this},n.prototype.addQueue=function(t){return this.queue=t.slice(),this},n.prototype.reset=function(){return this.completed=[],this.errors=[],this},n.prototype.addEvents=function(n,i,r){var o=this,s=this.options,a=function(){e?(this.removeEventListener("error",u),this.removeEventListener("abort",u),this.removeEventListener("load",c)):this.onerror=this.onabort=this.onload=null},u=function(){a.call(this),o.errors.push(i),s.onError&&s.onError.call(o,i),t.call(o,i),s.pipeline&&o.loadNext(r)},c=function(){a.call(this),o.completed.push(i),t.call(o,i,this),s.pipeline&&o.loadNext(r)};e?(n.addEventListener("error",u,!1),n.addEventListener("abort",u,!1),n.addEventListener("load",c,!1)):(n.onerror=n.onabort=u,n.onload=c)},n.prototype.load=function(t,e){var n=new Image;return this.addEvents(n,t,e),n.src=t,this},n.prototype.loadNext=function(t){return t++,this.queue[t]&&this.load(this.queue[t],t),this},n.prototype.processQueue=function(){var t=0,e=this.queue,n=e.length;if(this.reset(),this.options.pipeline)this.load(e[0],0);else for(;t<n;++t)this.load(e[t],t);return this},"function"==typeof define&&define.amd?define(function(){return n}):this.preLoader=n}.call(this),function(){var t,e,n,i,r,o,s,a,u,c,l;for(e="native",n=Date.now||function(){return(new Date).getTime()},r=window.requestAnimationFrame,c=["webkit","moz","o","ms"],a=0,u=c.length;a<u;a++)s=c[a],null==r&&(r=window[s+"RequestAnimationFrame"]);null==r&&(e="timer",t=0,i=o=null,r=function(e){var r,s,a;return null!=i?void i.push(e):(a=n(),s=Math.max(0,16.66-(a-t)),i=[e],t=a+s,r=function(){var e,n,r,o;for(n=i,i=null,r=0,o=n.length;r<o;r++)(e=n[r])(t)},void(o=setTimeout(r,s)))}),r(function(t){var e,i;t<1e12?null!=(null!=(i=window.performance)?i.now:void 0)?(r.now=function(){return window.performance.now()},r.method="native-highres"):(e=n()-t,r.now=function(){return n()-e},r.method="native-highres-noperf"):r.now=n}),r.now=null!=(null!=(l=window.performance)?l.now:void 0)?function(){return window.performance.now()}:n,r.method=e,window.requestAnimationFrame=r,window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),function(){"use strict";var t=function(t,e){this.options={fps:30,totalFrames:16,time:1/0,processAnimation:function(){},doneAnimation:function(){}},this.element=t,this.currentFrame=0,this.lastFrame=0,this.frameNum=0,this.startTime=window.requestAnimationFrame.now(),this.timeIndex=1,e&&"object"==typeof e&&this.setOptions(e)},e=null,n=0;t.prototype.start=function(){n=0,this.loop(this.startTime)},t.prototype.cancel=function(){e&&(window.cancelAnimationFrame(e),e=null,n=1)},t.prototype.setOptions=function(t){var e,n=this.options;for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return this},t.prototype.loop=function(t){var i=this.options;n||(this.updateFrame(t),e=window.requestAnimationFrame(this.loop.bind(this)),this.frameNum+1==i.totalFrames&&i.time!==1/0&&this.timeIndex>=i.time&&(this.cancel(),i.doneAnimation&&i.doneAnimation.call(this,this.element)))},t.prototype.updateFrame=function(t){var e=this.options,n=(t-this.startTime)/1e3;this.currentFrame+=n*e.fps,this.frameNum=Math.floor(this.currentFrame),this.frameNum>=e.totalFrames&&(this.currentFrame=this.frameNum=0,this.timeIndex++,this.lastFrame=-1),this.frameNum>=0&&this.frameNum>this.lastFrame&&e.processAnimation&&e.processAnimation.call(this,this.element,this.frameNum),this.startTime=window.requestAnimationFrame.now(),this.lastFrame=this.frameNum},"function"==typeof define&&define.amd?define(function(){return t}):this.reqAnimate=t}.call(this),function(t,e){var n=t.documentElement,i=navigator.userAgent.match(/iphone|ipod|ipad/gi),r=i?Math.min(e.devicePixelRatio,3):1,o=1/r,s="orientationchange"in window?"orientationchange":"resize";3==r&&(o=1,r=2),n.dataset.dpr=r;var a=function(){var t=n.clientWidth;n.clientHeight;t/r>2208&&(t=2208*r),n.style.fontSize=100*(t/2208)+"px"};a(),t.addEventListener&&e.addEventListener(s,a,!1)}(document,window),function(){var t=(navigator.userAgent.toLowerCase(),{gotoPin:function(t){$(".wrapper .pin").removeClass("current"),$(".wrapper .pin").eq(t).addClass("current")},getParameterByName:function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=e.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},setParameterByName:function(t,e){var n=location.search.substring(1,location.search.length);result=n;for(var i=n.split("&"),r="",o=0;o<i.length;o++)i[o].indexOf(t)>-1&&(i[o]=t+"="+e),r=r+i[o]+"&";return"?"+r},isWechat:function(){var t=window.navigator.userAgent.toLowerCase();return"micromessenger"==t.match(/MicroMessenger/i)},isWeibo:function(){var t=window.navigator.userAgent.toLowerCase();return"weibo"==t.match(/WeiBo/i)},msgBox:{add:function(t,e){e?$("body").append('<div class="ajaxpop msgbox minwidthbox"><div class="loading">'+t+"</div></div>"):$("body").append('<div class="ajaxpop msgbox"><div class="loading"><div class="icon-loading"></div>'+t+"</div></div>")},remove:function(){$(".ajaxpop").remove()}},errorMsg:{add:function(t,e){for(var n in t.childNodes){if("error"==t.childNodes[n].className)return t.childNodes[n].textContent=e,!0;if(n==t.childNodes.length-1){var i=document.createElement("div");i.textContent=e,i.className="error",t.appendChild(i)}}},remove:function(t){for(var e in t.childNodes)if("error"==t.childNodes[e].className)return void t.childNodes[e].parentNode.removeChild(t.childNodes[e])}},errorMsgBox:{add:function(t){$(".tipmsgbox").length?$(".tipmsgbox").html(t):$("body").append('<div class="tipmsgbox">'+t+"</div>");setTimeout(function(){$(".tipmsgbox").remove()},3e3)},remove:function(t){$(".msgbox").length&&$(".tipmsgbox").remove()}},alertBox:{add:function(t){$("body").append('<div class="alertpop msgbox"><div class="inner"><div class="msg">'+t+'</div><div class="btn-alert-ok"></div></div></div>')},remove:function(){$(".alertpop").remove()}},overscroll:function(t){t.addEventListener("touchstart",function(){var e=t.scrollTop,n=t.scrollHeight,i=e+t.offsetHeight;0===e?t.scrollTop=1:i===n&&(t.scrollTop=e-1)}),t.addEventListener("touchmove",function(e){t.offsetHeight<t.scrollHeight&&(e._isScroller=!0)})}});this.Common=t}.call(this);var isScroll=!1,noBounce=function(){function t(t){var e,n;n=t.changedTouches[0],e={x:n.clientX,y:n.clientY,timeStamp:t.timeStamp},u=[e]}function e(t){return isScroll?void t.stopPropagation():void t.preventDefault()}function n(t){u.length>2&&a.animate&&(c=i(),h(r))}function i(){var t,e,n,i,r;return t=u[0],e=u[u.length-1],i=e.timeStamp-t.timeStamp,n=l.subtraction(e,t),r=l.length(n),l.unit(n),l.skalarMult(n,r/i*20),n}function r(){scrollBy(-c.x,-c.y),l.skalarMult(c,.95),l.length(c)>.2&&h(r)}function o(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}var s={},a={animate:!1},u=[],c={x:0,y:0},l={subtraction:function(t,e){return{x:t.x-e.x,y:t.y-e.y}},length:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},unit:function(t){var e=l.length(t);t.x/=e,t.y/=e},skalarMult:function(t,e){t.x*=e,t.y*=e}},h=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();return s.init=function(i){"boolean"==typeof i.animate&&(a.animate=i.animate),o(i.element)&&(a.element=i.element);var r=a.element||document;r.addEventListener("touchstart",t),r.addEventListener("touchmove",e),r.addEventListener("touchend",n),r.addEventListener("touchcancel",n),r.addEventListener("touchleave",n)},s}();noBounce.init({animate:!1}),$(document).ready(function(){$("body").on("touchstart",".btn-alert-ok",function(){$(this).parent().parent(".alertpop").remove()})}),function(){var t=function(){this.hasShared=!1};t.prototype.init=function(){var t=this,e="src/dist/images/",n=[e+"logo-2.png",e+"mask.png",e+"P2-BG_00040.jpg",e+"portrait-tips.jpg",e+"progress-bar.png"],i=0;new preLoader(n,{onProgress:function(){i++},onComplete:function(){t.startUp()}})},t.prototype.startUp=function(){var t=this;$(".preload").remove(),Common.gotoPin(0),window.innerWidth>window.innerHeight&&t.doAnimation(),t.bindEvent()},t.prototype.bindEvent=function(){var t=this;window.addEventListener("orientationchange",function(){90==Math.abs(window.orientation)?(console.log("landscape"),t.doAnimation()):console.log("portrait")});var e=$("#pin-animate"),n=0,i=document.getElementById("flash-video");i.load(),e.on("touchstart",function(t){n=t.changedTouches[0].clientX,Common.isWechat()&&i.play()}),e.on("touchstart",function(t){t.preventDefault()}),e.on("touchend",function(e){var r=e.changedTouches[0].clientX-n;r<-100?(console.log(r),t.goVideoPage(),i.play()):Common.isWechat()&&i.pause(),e.preventDefault()}),i.addEventListener("ended",function(){$(".video-wrap").removeClass("show"),Common.gotoPin(2)})},t.prototype.doAnimation=function(){$(".wrapper").addClass("fade");var t=1;$(".mask").addClass("move");var e=setTimeout(function(){$(".p1-2").addClass("fade"),$(".ani-block").addClass("fade"),$(".content").addClass("fade"),clearTimeout(e)},1e3*t),n=setTimeout(function(){$(".content .words").addClass("active"),clearTimeout(n)},1e3*(t+3))},t.prototype.sequenceFrame=function(){var t=0,e=new reqAnimate($(".ani-block"),{fps:10,totalFrames:20,time:1/0,processAnimation:function(){var e="src/dist/images/p2-ani/P2-ANI_000"+(40+t)+".png";$(".ani-block img").attr("src",e),t++,t>19&&(t=0)}});e.start()},t.prototype.goVideoPage=function(){Common.gotoPin(1)},t.prototype.getTextareaLine=function(t){var e=t.split(/\r*\n/);return e.length},$(document).ready(function(){var e=navigator.userAgent;navigator.appVersion;if(e.match(/AppleWebKit.*Mobile.*/)){$(".pc-wrapper").remove();var n=new t;n.init()}else $(".preload").remove(),$(".pc-wrapper").addClass("fade"),$(".wrapper").remove()})}();